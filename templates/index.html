{% extends 'base.html' %}

{% block content %}
    <body>
        <div>
            <h1 align="center">Material Racks</h1>
            <br>
            <h3>Quick Find</h3>
            <div class="form-group">
                <select class="form-control" name ="material" id="material">
                    <option value="Material">Select Material</option>
                    {% for m in mtl %}
                    <option value="{{ m }}">{{ m[2] }}</option>
                    {% endfor %}
                </select>
            </div>
            <button type="submit" class="btn btn-block btn-primary findBtn">Find</button>
        </div>
        <div id="rackFind"></div>
        <div id="rowFind"></div>
        <div id="sizeFind"></div>
        <div id="numFind"></div>
        <div id="noteFind"></div>

        <div id="floor">
            <div id="rack12">12</div>
            <div id="col1">
                <div id="rack02">02</div>
                <div id="rack01">01</div>
            </div>
            <div id="rack03">03</div>
            <div id="col2">
                <div id="rack11">11</div>
                <div class="inline">
                    <div id="rack04">04</div>
                    <div id="rack05">05</div>
                </div>
            </div>
            <div id="col3">
                <div id="rack11">10</div>
                <div class="inline">
                    <div id="rack04">06</div>
                    <div id="rack05">07</div>
                </div>
            </div>
            <div id="col4">
                <div id="rack09">09</div>
                <div id="rack08">08</div>
            </div>
        </div>
    
    <script>
        let allMtl = [];
        $(".findBtn").on('click', function() {
            $("#rackFind").html('');
            $("#rowFind").html('');
            $("#sizeFind").html('');
            $("#numFind").html('');
            $("#noteFind").html('');
            let selectedMatl = $("#material").val();
            let data = selectedMatl.split("'");
            console.log(data)
            let rack;
            if (data[1] > 0 && data[1] <= 18) {
                rack = 1;
            } else if (data[1] >= 19 && data[1] <= 36) {
                rack = 2;
            } else if (data[1] >= 37 && data[1] <= 47) {
                rack = 3;
            } else if (data[1] >= 48 && data[1] <= 57) {
                rack = 4;
            } else if (data[1] >= 58 && data[1] <= 67) {
                rack = 5;
            } else if (data[1] >= 68 && data[1] <= 77) {
                rack = 6;
            } else if (data[1] >= 78 && data[1] <= 86) {
                rack = 7;
            } else if (data[1] >= 87 && data[1] <= 94) {
                rack = 8;
            } else if (data[1] >= 95 && data[1] <= 102) {
                rack = 9;
            } else if (data[1] >= 103 && data[1] <= 110) {
                rack = 10;
            } else if (data[1] >= 111 && data[1] <= 118) {
                rack = 11;
            } 
            $("#rackFind").append("Rack: "+rack);
            $("#rowFind").append("Row: "+data[1]);
            $("#sizeFind").append("Sheet Size: "+data[7]);
            $("#numFind").append("Sheets in Stock: "+data[3]);
            $("#noteFind").append("Notes: "+data[9]);
            if (data[0] == 'Material') {
                console.log('yes')
                $("#rackFind").html('');
                $("#rowFind").html('');
                $("#sizeFind").html('');
                $("#numFind").html('');
                $("#noteFind").html('');
            }
        });
    
    // TOGGLE NAVBAR
    $(document).ready(function () {
        $('#sidebarCollapse').on('click', function () {
            $('#sidebar').toggleClass('active');
        });
    });
    </script>

    </body>
{% endblock %}
